"use strict";function Enemy(e){this.ele=document.createElement("div"),this.hp=1,this.speed=5,this.id=1e6*Math.random()+"",this.dieImgs=[],this.score=10,this.init=function(){switch(e){case this.ENEMY_TYPE_SMALL:this.ele.className="enemy_small",this.hp=this.ENEMY_HP_SMALL,this.speed=this.ENEMY_SPEED_SMALL,this.dieImgs=["images2/plane1_die1.png","images2/plane1_die2.png","images2/plane1_die3.png"],this.score=10;break;case this.ENEMY_TYPE_MIDDLE:this.ele.className="enemy_middle",this.hp=this.ENEMY_HP_MIDDLE,this.speed=this.ENEMY_SPEED_MIDDLE,this.dieImgs=["images2/plane2_die1.png","images2/plane2_die2.png","images2/plane2_die3.png","images2/plane2_die4.png"],this.score=20;break;case this.ENEMY_TYPE_LARGE:this.ele.className="enemy_large",this.hp=this.ENEMY_HP_LARGE,this.speed=this.ENEMY_SPEED_LARGE,this.dieImgs=["images2/plane3_die1.png","images2/plane3_die2.png","images2/plane3_die3.png","images2/plane3_die4.png","images2/plane3_die5.png","images2/plane3_die6.png"],this.score=30}return gameEngine.allEnemys[this.id]=this,gameEngine.ele.appendChild(this.ele),this.ele.style.left=parseInt(Math.random()*(gameEngine.ele.offsetWidth-this.ele.offsetWidth))+"px",this.ele.style.top=-this.ele.offsetHeight+"px",this},this.move=function(){var e=this;this.timer=setInterval(function(){var i=e.ele.offsetTop+e.speed;i>gameEngine.ele.offsetHeight?(clearInterval(e.timer),gameEngine.ele.removeChild(e.ele),delete gameEngine.allEnemys[e.id]):e.ele.style.top=i+"px"},40)},this.hurt=function(){0==--this.hp&&(this.boom(),gameEngine.scoreDiv.innerHTML=gameEngine.scoreDiv.innerHTML-0+this.score)},this.boom=function(){clearInterval(this.timer);var e=this,i=0,s=setInterval(function(){i>=e.dieImgs.length?(clearInterval(s),gameEngine.ele.removeChild(e.ele),delete gameEngine.allEnemys[e.id]):e.ele.style.background="url("+e.dieImgs[i++]+") no-repeat"},100)}}Enemy.prototype={ENEMY_TYPE_SMALL:1,ENEMY_TYPE_MIDDLE:2,ENEMY_TYPE_LARGE:3,ENEMY_HP_SMALL:1,ENEMY_HP_MIDDLE:3,ENEMY_HP_LARGE:8,ENEMY_SPEED_SMALL:6,ENEMY_SPEED_MIDDLE:4,ENEMY_SPEED_LARGE:2};